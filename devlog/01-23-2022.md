Ahh it's funny when you are fighting against your own code. It sucks... you try to defend against "spaghetti" but it seems to happen inevitably, particularly from the purpose of the code changing from the original intent.

I'm pretty spent already, put in 8 hrs to my "day gig", could have been faster but yeah as mentioned, fighting bad code = takes longer.

Right now I really want to get a sweep sample stored.

I was thinking about it, this isn't JS where you can just throw whatever you want into an array. The types have to be known/specified on initialization it seems to me.

Anyway I want to use the basic sweep, store angle, time-distance-sample pairs.

Then I think I should be able to take that "matrix" or whatever and make a depth map with it. Eventually I should be able to form a polygon thing again in ThreeJS that I did before. In that case though I only had 9 sample points.

Well I don't know how to use a clock in Arduino so I'll just use incrementing (part of the servo move all stuff).

It'll be easier for me not to mix array contents and just use separate arrays eg. an array of signed angle values for pos/neg and then matching those array indices the samples which would be a collection of floats... actually I'll just use the array count, no need for iterator thing.

I don't know the size I want but the sweep is either 30 left or 30 right so I guess I can go with 60.

Haha... online C++ sandboxes nice.

I don't get it... the sensor is supposed to consume no more than 19 mA... peak current 40mA...

And yet when the sensor tries to run with sweep gaits it just falls over/dies.

<img src="./media/01-23-2022--early-onset-arthritis.png">

It just curls over and dies.

Is it running out of memory or something... I don't understand. I did see that I had the wrong data type on the multidimensional array value.

I think I stripped some servos.

Whoa this is weird... using serial print to read out hte values in real time... I think this is a max value
48322.48322

322.48 is the max value... okay


Oof man... I might have stripped some of these servos... I might have severely underestimated how much memory I have to work with, what I'm trying to do needs...

This is a real mystery not sure what is going on let me commit this.

